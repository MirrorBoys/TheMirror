{% if data %}
<div class="travel-widget">
    {% load static %}
    <!-- Static files specifically for this widget. Global static files will be used via homePage -->
    <link rel="stylesheet" href="{% static 'travelWidget/style.css' %}">
    <script src="{% static 'travelWidget/script.js' %}"></script>

    <!-- Header Above the Table -->
    <h3>Departures</h3>

    <div class="station-info">
        <p> {{ data.station_name }} </p>
    </div>

    <table>
        <thead>
            <tr>
                <th>Destination</th>
                <th>Train Type</th>
                <th>Planned Time</th>
                <th>Actual Time</th>
                <th>Delay</th>
                <th>Track</th>
            </tr>
        </thead>
        <tbody>
            {% for departure in data.departures %}
            <tr>
                <td>{{ departure.destination }}</td>
                <td>{{ departure.trainCategory }}</td>
                <td>{{ departure.plannedDateTime }}</td>
                <td>{{ departure.actualDateTime }}</td>
                <td>{{ departure.delay }}</td>
                <td>{{ departure.plannedTrack|default:"N/A" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<p>No departure data available.</p>
{% endif %}