{% if data %}
<div class="travel-widget">
    <!-- Header Above the Table -->
    <h3>Travel Information</h3>

    <!-- Display First and Last Station Info -->
    <div class="station-info">
        {{ data.0.first_station }} - {{ data.0.last_station }}
    </div>

    <table>
        <thead>
            <tr>
                <th>Station</th>
                <th>Planned Time</th>
                <th>Actual Time</th>
                <th>Delay</th>
            </tr>
        </thead>
        <tbody>
            {% for trip in data %}
            <tr>
                <td>{{ trip.station }}</td>
                {% if trip.is_final_station %}
                <!-- Final station: show arrival times -->
                <td>{{ trip.planned_arrival|default:"N/A" }}</td>
                <td>{{ trip.actual_arrival|default:"N/A" }}</td>
                {% else %}
                <!-- Regular stations: show departure times -->
                <td>{{ trip.planned_departure|default:"N/A" }}</td>
                <td>{{ trip.actual_departure|default:"N/A" }}</td>
                {% endif %}
                <td>{{ trip.delay }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<p>No travel data available.</p>
{% endif %}